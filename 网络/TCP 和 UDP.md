。。。持续更新中。。。

#### 1. 描述 TCP 三次握手和四次挥手的过程？

三次握手：

客户端和服务端之间的通信是全双工通信，建立这种通信需要依赖于“3次握手机制”，“3次握手”的所用就是让双方都能明确自己和对方收、发消息的能力是正常的。

第一次握手：客户端发送网络包（消息）给服务端，服务端收到了，服务端就可以得出结论：客户端的发送能力，服务端的接收能力是正常的。

第二次握手：服务端发包，客户端收到了，这样客户端就可以得出结论：服务端的发送能力、客户端的接收能力是正常的。同时对于服务端；同时，对于客户端来说，我接收到了服务端的回应，客户端得出了第二个结论：服务端的接收能力、客户端的发送能力是正常的。

第三次握手：客户端发包，服务端收到了，对于服务端来说，我接收到了客户端的回应，服务端可以得出结论：服务端的发送能力、客户端的接收能力是正常的。



四次挥手：

客户端和服务端都有主动断开连接的能力。

四次挥手的过程：

第一次挥手：A 给 B 发送消息，告知 B：A 即将断开连接；

第二次挥手：B 给 A 发送消息，告知 A：B 知道 A 即将断开连接；

第三次挥手：B 给 A 发送消息，告知 A：B 即将断开连接；

第四次挥手：A 给 B 发送消息，告知 B，A 知道 B 即将断开连接。

<small>*第一次： 当主机A完成数据传输后,将控制位FIN置1，提出停止TCP连接的请求 ；*</small>

*<small>第二次： 主机B收到FIN后对其作出响应，确认这一方向上的TCP连接将关闭,将ACK置1；</small>*

*<small>第三次： 由B 端再提出反方向的关闭请求,将FIN置1 ；</small>*

*<small>第四次： 主机A对主机B的请求进行确认，将ACK置1，双方向的关闭结束.。</small>*

数据会被拆分成多个数据包分片传输，为了保证数据完整传输，接收方会在接收到完整数据后，给发送方发送一个结束标识，双方连接才会彻底断开。

<img src="/Users/liyuanmeng/Library/Application Support/typora-user-images/image-20210308215826424.png" alt="image-20210308215826424" style="zoom:33%;" />



#### 2. TCP 和 UDP 的不同点？

不同点：

1. TCP 是面向连接的，UDP是无连接就发送数据的，因此 TCP 消耗的资源更多；

2. TCP 依靠`确认重传机制`保证传输是可靠的，UDP 是不可靠的。

   *<small>确认重传机制：TCP 有个以字节为单位的滑动窗口，它把要发送的数据都以字节形式存储在这个滑动窗口当中。每次发送完窗口的数据后，都会先保留数据，只有当收到对方的数据确认收到信号时再清除这些数据，如果超时没有收到确认信号的话就要重传</small>*

3. TCP 有`拥塞控制`，UDP 没有；

   *<small>拥塞控制就是防止过多的数据注入到网络中，导致网络链路拥塞。UDP 就由于没有拥塞控制，所以可能会引发网络的大规模瘫痪。</small>*

4. 应用场景不同：UDP 输数据时就特别快，它比较适合快速传输不太重要但实时性要求比较高的大数据，比如实时的视频传输，各种直播平台的app。TCP 负责传输文本数据比较好，保证数据的完整性。

